# Zustand

íƒœê·¸:  ê³µë¶€í•„ìš”

### ğŸ”€ **ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬**

**ìƒíƒœ ë³€ê²½ ì‹œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ë©° provider hell ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŒ**

Flux êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

***Flux êµ¬ì¡°**

- ì–´ëŠ ë°©í–¥ìœ¼ë¡œ ë°ì´í„°ê°€ ì „ë‹¬ë ì§€ ëª¨ë¥´ëŠ” ë³µì¡ì„±ì„ í•´ì†Œí•˜ê¸°ìœ„í•´
- Flux íŒ¨í„´ì„ í†µí•´ ë°ì´í„°ê°€ ë‹¨ë°©í–¥ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆë„ë¡ ë§Œë“  êµ¬ì¡°

![img1.daumcdn.png](Zustand%209916563a4b30408a9b65bbcff2e63df0/img1.daumcdn.png)

![img1.daumcdn.png](Zustand%209916563a4b30408a9b65bbcff2e63df0/img1.daumcdn%201.png)

### ğŸ¤·â€â™€ï¸ Zustand íŠ¹ì§•

![download.jpg](Zustand%209916563a4b30408a9b65bbcff2e63df0/download.jpg)

- provider ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- store ì‚¬ìš©ì„ ìœ„í•œ ì‘ì„±ë˜ëŠ” ì½”ë“œ ê¸¸ì´ê°€ ë¹„êµì  ì§§ìŒ
- ìì£¼ ë°”ë€ŒëŠ” ìƒíƒœë¥¼ ì§ì ‘ ì œì–´ ê°€ëŠ¥ (Transient Update)
- immer, devtools ì§€ì›

***immer** ë‚´ë¶€ì ìœ¼ë¡œ ë¶ˆë³€ì„±ì„ ì²˜ë¦¬í•¨

***DevTools** ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ë„êµ¬ì™€ ì—°ë™í•˜ì—¬ ê°„í¸í•œ ë””ë²„ê¹…ì„ ì§€ì›

### ğŸ› ï¸ ë™ì‘ ì›ë¦¬

**1) `create` í•¨ìˆ˜ë¡œ ìŠ¤í† ì–´ë¥¼ ìƒì„±**

- ì´ˆê¸° ìƒíƒœì™€ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°›ì•„ ìƒíƒœë¥¼ ê´€ë¦¬í•¨
- ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ êµ¬ë…ì (subscriber)ì—ê²Œ ì•Œë¦¬ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§ í•¨

```jsx
const useProductStore = create(set => ({
  productsData: [],
  setProductsData: data => set({ productsData: data }),
  // ... (ë‹¤ë¥¸ ìƒíƒœ ë° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤)
}));
```

![images.jpg](Zustand%209916563a4b30408a9b65bbcff2e63df0/images.jpg)

**2) `subscribe` ë§¤ì„œë“œë¥¼ í†µí•´ ìƒíƒœ ë³€í™” ê°ì§€**

```jsx
const store = useProductStore();

//ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ëŠ” ì½œë°± í•¨ìˆ˜ ë“±ë¡
const unsubscribe = store.subscribe(state => {
  console.log("ìƒíƒœê°€ ë³€ê²½ë¨: ", state);
});

store.setProductsData(newData); //ìƒíƒœ ë³€ê²½
unsubscribe(); //êµ¬ë… í•´ì œ
```

**3) ìƒíƒœ ì—…ë°ì´íŠ¸ ë° ì½ê¸°**

- `set`  ìƒíƒœë¥¼ ë³€ê²½ (ìƒíƒœ ì—…ë°ì´íŠ¸)
- `get` í˜„ì¬ ìŠ¤í† ì–´ ìƒíƒœë¥¼ ì½ìŒ (ìƒíƒœ ì¡°íšŒ ë° ì¡°ê±´ë¶€ ì—…ë°ì´íŠ¸ ìˆ˜í–‰)

```jsx
const useStore = create((set, get) => ({
  count: 0,
  doubleCount: () => get().count * 2,
}));
```