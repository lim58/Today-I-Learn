# ë¹„ë™ê¸° í†µì‹ 

Ajaxë¥¼ ì‚¬ìš©í•˜ë©´ í˜ì´ì§€ ì´ë™ ì—†ì´ ë¹ ë¥´ê²Œ í™”ë©´ì„ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë©° 

ì´ˆê¸°ì— ìˆ˜ì‹ í•´ì•¼ í•˜ëŠ” ë°ì´í„° ì–‘ì„ ì¤„ì—¬ ë¹ ë¥´ê²Œ ë¡œë”© í•  ìˆ˜ ìˆìŒ ğŸ˜

- ì •ë¦¬ëŠ” í•´ë‘ì—ˆì§€ë§Œ ì•Œì•„ì•¼ í•˜ë‚˜ë¼ëŠ” ìƒê°ì´ ë“œëŠ”ê±°
    
    # **XMLHttpRequest**
    
    **ë¸Œë¼ìš°ì €ì™€ ì›¹ ì„œë²„ ê°„ì— í†µì‹ ì„ í•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” API**
    
    XML ì™¸ ëª¨ë“  ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆìœ¼ë©° http ë¿ë§Œ ì•„ë‹ˆë¼ ftp, file ê°™ì€ í”„ë¡œí† ì½œë„ ì‚¬ìš© ê°€ëŠ¥
    
    XMLHttpRequest ë¡œ Ajax ë°©ì‹ì˜ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„
    
    open( ) ë©”ì„œë“œëŠ” í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¡œ http ë©”ì„œë“œì™€ ìš”ì²­í•  urlì„ ê°€ì§
    
    ```jsx
    const xhr = new XMLHttpRequest()
    const method = "POST"
    const url = "/posts"
    
    xhr.open(method, url)
    
    const body = JSON.stringify({userId: 100})
    xhr.send(body) //ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ëƒ„
    xhr.abort() //ìš”ì²­ì„ ì¤‘ì§€í•¨
    ```
    

# Promise

**ì½œë°±ì§€ì˜¥ ë°œìƒ ë¬¸ì œë¥¼ í•´ê²°**í•˜ë ¤ í•¨

ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œì ì„ ëª…í™•íˆ í‘œí˜„í•˜ê³  ì‘ì—…ì´ ëë‚œ ë’¤ ê²°ê³¼ê°’ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ

```jsx
const promise = new Promise((resolve, reject) => {
	setTimeout(() => {
		const random = Math.floor(Math.random() * 10)	
			if (random % 2) resolve("í™€ìˆ˜")
			else reject(new Error("ì§ìˆ˜"))
		}, 100)
	})
```

 Promise ìƒì„±ì í•¨ìˆ˜ì— ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰ìë¼ê³  í•¨

ì „ë‹¬ëœ ì‹¤í–‰ìëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë  ë•Œ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•¨

ì‹¤í–‰ì í•¨ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ë¡œ **resolve**(ì„±ê³µ) **reject**(ì‹¤íŒ¨)ë¥¼ ê°€ì§

ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” **state í”„ë¡œí¼í‹°**ë¥¼ ê°€ì§

- ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ì´í–‰(fullfiled)
- ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ ê±°ë¶€(rejected)
- ì‘ì—…ì´ ì´í–‰ë˜ê±°ë‚˜ ê±°ë¶€ë˜ì§€ ì•Šì€ ì´ˆê¸° ë‹¨ê³„ë¥¼ ë³´ë¥˜(pending)

- **then / catch / finally**
    
    **then** - Promise ê°ì²´ë¥¼ ë¦¬í„´í•˜ê³  ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ìŒ
    
    **chatch** - ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œ
    
    **finally** - ì´í–‰, ê±°ë¶€ì— ìƒê´€ ì—†ì´ ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ
    
    ì£¼ê³  ì‘ì—…ì´ ì¢…ë£Œë˜ì—ˆì„ ë•Œ í•„ìš”í•œ ê³µí†µì ì¸ ì²˜ë¦¬ ë¡œì§ì„ ìˆ˜í–‰í•¨
    

### Promise ì²´ì´ë‹

```jsx
a((resultFromA) => {
	b(resultFromA, (resultFromB) => {
		c(resultFromB, (resultFromC) => {
			console.log(resultFromC)
		})
	})
})

ë‹¤ì‹œ ë‚˜íƒ€ë‚œ ì½œë°±ì§€ì˜¥.. 
Promise ì²´ì´ë‹ì„ í†µí•´ ê°œì„ í•´ë³´ì!

a().then((resultFromA) => b(resultFromB))
	 .then((resultFromB) => c(resultFromB))
	 .then((resultFromC) => console.log(resultFromC))
```

# async / await

í•¨ìˆ˜ ì•ì— **async**ê°€ ë¶™ê²Œ ë˜ë©´ **Promiseë¥¼ ë°˜í™˜**í•œë‹¤ëŠ” ì˜ë¯¸

**await**ëŠ” async í•¨ìˆ˜ ë‚´ì—ì„œ ì‚¬ìš©ë˜ë©° **í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¤‘ì§€í•˜ê³  Promiseê°€ ì´í–‰ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼**

ì—ëŸ¬ ì²˜ë¦¬ëŠ” **tryâ€¦catch ë¬¸**ì„ ì´ìš©í•´ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ   

```jsx
function errFunc() {
	return Promise.reject(100)
}

async function func() {
	try {
		const response = await errFunc()
	} catch(error) {
		console.log(error)
	}
}
```

# fetch()

fetch()ë¥¼ í˜¸ì¶œí•˜ë©´ ë¸Œë¼ìš°ì €ëŠ” **ìš”ì²­ì„ ë³´ë‚´ê³  Promiseë¥¼ ë°˜í™˜**

Promiseë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì‘ë‹µì€ Promise ì²´ì´ë‹ê³¼ await ë¬¸ì„ í†µí•´ ë‹¤ë£° ìˆ˜ ìˆìŒ

```jsx
fetch(url, options) {
	.then(() => {
		//ì‘ë‹µì²˜ë¦¬
	})
	.catch(error) {
		//ì—ëŸ¬ì²˜ë¦¬
	})

const response = await fetch(url, options)
```

optionsì—ëŠ” HTTP ë©”ì„œë“œë‚˜ í—¤ë”, body ë“±ì„ ë„£ì„ ìˆ˜ ìˆìŒ