# 복귀

이해?: 정리만함

**복귀란?** 어떤 시점으로 돌아가는 것

## 1) 리셋 reset

커밋을 기준으로 이전 코드로 되돌리는 방법 기록한 커밋을 취소함

복귀하려면 복귀 시점을 알려주어야 함

![316903.png](%E1%84%87%E1%85%A9%E1%86%A8%E1%84%80%E1%85%B1%2074a65403fe0246089ce9b48e51578008/316903.png)

**reset 명령어를 사용하면 지정된 커밋 코드로 되돌아감**

특정 커밋의 해시 값 상태로 모든 코드를 복구함

<aside>
📀 **reset 명령어 옵션**

🍦 **soft 스테이지 영역을 포함한 상태로 복원**

파일을 수정하고 스테이지 영역에 올려 커밋을 실행하기 직전의 단계로 되돌림

단순히 HEAD 위치를 이동하는 역할

코드 변경되지 않더라도 새로 커밋하면 변경된 시간 같은 값을 적용하여 해시 값을 생성
****

⚗️ **mixed 기본 값**
리셋한 후 스테이지 상태까지 복원하지 않음

****🦔 **hard 실제 파일이 삭제된 이전 상태로 복원**

soft / mixed는 복귀 커밋 이후 작업들은 워킹 디렉터리 영역에 남겨두어 다시 수정하거나 커밋할 수 있도록 상태만 변경하지만 

hard는 리셋되는 복귀 시점의 커밋 상태와 해당 커밋의 워킹 디레터리까지 모두 삭제

</aside>

**파일 이름을 지정하여 리셋 하면 해당 파일은 unstage 상태가 됨**

수정 작업을 완전히 취소하려면 **워킹 디렉터리의 스테이지 상태를 모두 제거하여 마지막 커밋 상태로 되돌려야 함**

리셋 할 때 시점을 현재 HEAD를 기준으로 하면 해당 시점의 수정 작업을 모두 삭제 할 수 있음

## 2) 리버트 revert

**기존 커밋을 남겨 두고 취소에 대한 새로운 커밋을 생성**

취소 커밋 생성시 사용, 지정한 커밋을 삭제하지 않지만 삭제를 위한 새로운 커밋을 생성함

![317140.png](%E1%84%87%E1%85%A9%E1%86%A8%E1%84%80%E1%85%B1%2074a65403fe0246089ce9b48e51578008/317140.png)

![0924_fmt.jpg](%E1%84%87%E1%85%A9%E1%86%A8%E1%84%80%E1%85%B1%2074a65403fe0246089ce9b48e51578008/0924_fmt.jpg)

![0926_fmt.jpg](%E1%84%87%E1%85%A9%E1%86%A8%E1%84%80%E1%85%B1%2074a65403fe0246089ce9b48e51578008/0926_fmt.jpg)

공개된 커밋은 삭제하지 않으므로 **취소하고자 하는 커밋을 리버트함**

새로운 리버트 커밋이 생성되는 것을 볼 수 있음

**리버트는 한 번에 커밋 하나만 취소할 수 있음**

여러 커밋을 리버트하려면 최신 커밋부터 순차적으로 취소해야함

**마지막으로 정리하자면**

> 리셋과 리버트는 동작을 취소하고 과거로 돌아간다는 면에서 유사함
> 

> 외부로 공개한 저장소라면 리버트를 사용하는 것이 좋음👍
>