# 브랜치

이해?: 정리만함

**브랜치란?** 나뭇가지, 지사, 분점 등 줄기 하나에서 뻗어 나온 갈림길을 의미함

브랜치는 프로젝트를 독립적으로 관리하는데 사용

**브랜치 특징**

📁 작업 폴더를 실제로 복사하지 않고 가상 폴더를 생성함

🪴 원본 폴더와 분리하여 독립적으로 개발 작업 수행할 수 있음

👨‍🚒 Bolb 개념을 도입하여 내부를 구조화

브랜치 명령 사용시 내부적으로 커밋 하나 생성하여 브랜치로 할당

**브랜치는 HEAD 포인터를 가짐**

모든 커밋과 이력은 브랜치에 기록됨

깃은 최소한 브랜치가 1개 이상 필요함

저장소를 처음 초기화하면 master 브랜치 하나가 자동으로 생성됨

## 1) 브랜치 생성

브랜치는 공통된 커밋을 가리키는 지점

![images.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A2%E1%86%AB%E1%84%8E%E1%85%B5%20dfd99230c89649f0a0e755fe9c37c156/images.png)

**새 브랜치를 생성하면 포인터만 있는 브랜치 생성**

현재 커밋을 가리키는 HEAD 기준으로 생성

독립된 공간을 할당, 기존 작업 영역에는 영향을 주지 않는 새 작업을 할 수 있음

브랜치는 깃에서 하나의 `**개발 분기점**` 의미함

## 2) 브랜치 이동

`**체크아웃? 현재 브랜치를 떠나 새로운 브랜치로 들어감`** 

다른 브랜치에서 작업하려면 반드시 **브랜치를 변경하여 워킹 디렌터리를 재설정 해야함**

**브랜치 동작 원리** 🗺️

HEAD는 브랜치의 마지막 커밋을 의미하기에 **브랜치가 이동하면 HEAD 포인터도 같이 이동함**

브랜치를 변경하려면 **기본 브랜치의 워킹 디렉터리를 정리해야함**

워킹 디렉터리에서 작업하다 커밋하지 않고 다른 브랜치로 체크아웃하면 브랜치 이동이 제한됨

충돌을 방지하려고 작업이 남아있다고 경고 및 제한함

## 3) 브랜치 공간

브랜치가 다른 브랜치로 이동하면 워킹 디렉터리는 변경됨

HEAD는 작업중인 브랜치의 마지막 커밋 ID를 가리키는 참조 포인터

마지막 커밋을 가리키는 HEAD 포인터를 부모 커밋으로 대체

**브랜치를 이동하면 HEAD 포인트도 이동** 🚝

브랜치가 여러개면 HEAD 포인트도 여러개 (브랜치마다 마지막 커밋이 다르기 때문)

🔁 HEAD를 기준으로 상대적 커밋 위치도 지정할 수 있음

### AHEAD, BHEAD

서로 다른 저장소 간 HEAD 포인터의 위치 차이 의미

**AHEAD**

**서버로 전송되지 않은 로컬 커밋이 있는 것**

EX) 로컬 저장소에 새로운 커밋 생성 후 새로운 커밋 정보를 서버로 전송 X

![289327.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A2%E1%86%AB%E1%84%8E%E1%85%B5%20dfd99230c89649f0a0e755fe9c37c156/289327.png)

로컬의 HEAD 포인터를 기준으로 **로컬 브랜치에 있는 커밋이 서버의 커밋 개수보다 많은 경우**

**BHEAD**

**로컬 저장소로 내려받지 않은 커밋이 있는 것**

EX) 누군가 서버에 새로운 커밋 함, 로컬 저장소는 서버의 새 커밋을 내려받지 않음

![289316.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A2%E1%86%AB%E1%84%8E%E1%85%B5%20dfd99230c89649f0a0e755fe9c37c156/289316.png)

다른 개발자가 코드를 수정하여 **원격 저장소의 커밋이 자신의 로컬 저장소보다 더 최신 상태인 것**

## 4) 생성과 이동

브랜치는 특정한 커밋에 별명을 부여한 것과 같음

**브랜치 이름은 커밋 해시키와 동일**

**HEAD 포인터를 사용하여 체크아웃 할 수 있음**

### 5) 원격 브랜치

**리모트 브랜치?** 원격 저장소에 생성한 브랜치 

별칭/브랜치 이름 형태

**브랜치 추적**

리모트 브랜치, 원격 저장소의 브랜치를 가리키는(브랜치 추적) 포인터

추적 브랜치는 원격 브랜치의 마지막 커밋 해시값을 가리킴

**리모트 브랜치는 서버 간에 통신을 하고 나서 생성됨 (push 작업)**

**업스트림 트래킹**

로컬 저장소의 브랜치와 원격 저장소의 브랜치는 업로드 할 수 있도록 매칭됨

**리모트 브랜치와 로컬 브랜치를 연결하는 중간 다리 역할**

명령어는 Git 교과서 인터넷 쳐서 확인하셈 나는 개념만 적은거임 😉