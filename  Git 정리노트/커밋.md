# 커밋

이해?: 정리만함

## 1) 코드의 변화

**commit? 코드 변화를 기록하는 것**

변경 시점을 저장함으로써 특정 시점으로 되돌아 갈 수 있음

**파일 관리 방법**

🥇 깃의 커밋은 새로 변경된 부분만 추출하여 저장함

🥈 동일한 파일 하나로 모든 이력 처리

![git_file_commit.png](%E1%84%8F%E1%85%A5%E1%84%86%E1%85%B5%E1%86%BA%200fbf6506a4f446da853fc7e61a2b06c0/git_file_commit.png)

---

## 2) 새 파일 생성 및 감지

커밋을 하려면 **파일의 상태가 추적 가능해야 함**

**등록이란? untracked 상태의 파일을 추적 가능 상태(tracked 상태)로 변경하는 것**

![download.png](%E1%84%8F%E1%85%A5%E1%84%86%E1%85%B5%E1%86%BA%200fbf6506a4f446da853fc7e61a2b06c0/download.png)

📤 파일을 등록하면 워킹 디렉터리의 파일이 스테이지 영역에 추가

 ****

**unstage 상태의 파일들은 커밋 할 수 없음**

스테이지 영역으로 등록된 파일들은 tracked 상태로 변경됨

파일 등록 취소? tracked 상태의 파일을 untracked 상태로 변경

---

## 3) 커밋 방식

**`HEAD? 커밋이 가리키는 묵시적 참조 포인터`**

![images.png](%E1%84%8F%E1%85%A5%E1%84%86%E1%85%B5%E1%86%BA%200fbf6506a4f446da853fc7e61a2b06c0/images.png)

**최종적인 커밋 작업의 위치를 가리킴**

처음 커밋할 때는 HEAD 포인터가 없음 (최소 한 번 이상 커밋해야 HEAD 존재)

**스냅샵 방식 이용**

파일에서 변경된 부분만 찾아 사진을 찍듯이 저장함

**스냅샷은 HEAD가 가리키는 커밋을 기반으로 사진을 찍음**

![04-12.jpg](%E1%84%8F%E1%85%A5%E1%84%86%E1%85%B5%E1%86%BA%200fbf6506a4f446da853fc7e61a2b06c0/04-12.jpg)

**commit** 

HEAD와 스테이지 영역 간 차이를 비교하여 새로운 객체를 생성

생성된 객체를 깃 저장소에 기록함

![236433.png](%E1%84%8F%E1%85%A5%E1%84%86%E1%85%B5%E1%86%BA%200fbf6506a4f446da853fc7e61a2b06c0/236433.png)

🥇 기존 파일 수정시 해당 파일 modified 상태로 변경

🥈 수정되면 스테이지 영역에 재등록함

🥉 커밋하기 끝~